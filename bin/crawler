#!/usr/bin/env php
<?php

if(file_exists(__DIR__ . '/../vendor/autoload.php')) {
    require_once __DIR__ . '/../vendor/autoload.php';
}
elseif(file_exists(__DIR__ . '/../../../autoload.php')) {
    require_once __DIR__ . '/../../../autoload.php';
}

$factory = new LastCall\Crawler\Configuration\Factory\PHPFileConfigurationFactory();
$application = new Symfony\Component\Console\Application('LCM Crawler', '1.1.1');
$application->add(new LastCall\Crawler\Command\CrawlCommand($factory));
$application->add(LastCall\Crawler\Command\SetupTeardownCommand::setup());
$application->add(LastCall\Crawler\Command\SetupTeardownCommand::teardown());
$application->add(LastCall\Crawler\Command\SetupTeardownCommand::reset());
return $application->run();
